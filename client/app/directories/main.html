<header>
  <nav class ="top-nav">
    <div class="container">
      <div class="nav-wrapper">
        <a href="#" class="brand-logo hide-on-med-and-down">ever:code</a>
      </div>
      <div class="center">
        <a ng-repeat="path in directories.breadcrumbPath" ui-sref={{path[2]}} ng-click="directories.changeActiveTab(path[1])" class="breadcrumb">{{path[0]}}</a>
        <a ui-sref='signout' class='right'><i class="material-icons">power_settings_new</i>Logout</a>
      </div>
      <ul id="slide-out" class="side-nav">

        <li>
          <span class="center">ever:code</span>
        </li>

        <li>
          <div class="input-field">
            <input 
              id="search-bar" 
              data-activates="dropdown1" 
              type="text" 
              ng-model="search" 
              placeHolder="Search..." 
            />
            <div class="search-results">
              <ul id="dropdown1">
                <li 
                  ng-hide="!search" 
                  ng-repeat="snippet in directories.snippetArr | filter:{name:search}"
                >
                  {{snippet.name}}
                </li>
              </ul>
            </div>
          </div>
        </li>

        <li>
          <a href='#'>
            Favorites
          </a>
        </li>

        <li>
          <div class="input-field">
            <form name="folderForm" ng-submit="directories.addFolder()" novalidate>
              <div class="form-group">
                <input 
                  placeholder="New Folder" 
                  type="text" class="validate form-control" 
                  maxlength="20" 
                  ng-minlength="1" 
                  ng-model="directories.folder.name" 
                />
              </div>
            </form>
          </div>
        </li>

        <li>
          <div ng-repeat="folder in directories.folders" ng-click="directories.changeActiveTab(folder.filePath)" ui-sref=".snippets">
            {{folder.value}}
             <i ng-click="directories.removeFolder(folder.filePath)" class="valign tiny material-icons">delete</i>
          </div>
        </li>
      </ul>
    </div>
  </nav>
  <ul id="nav-mobile" class="side-nav fixed">
      <li class="row" ng-click="directories.toggleSideNav()">
        <div class="nav-icon">
          <a href='#' style="padding-left: 0px">
            <img class="icon button-collapse mdi-navigation-menu"
              data-activates="slide-out"
              src="https://d30y9cdsu7xlg0.cloudfront.net/png/17485-200.png"
             />
          </a>
        </div>
      </li>

      <li class="search row" ng-click="directories.toggleSideNav()">
        <div class="nav-icon">
          <i id="search-icon" class="material-icons center">search</i>
        </div>
      </li>

      <li class="row" ng-click="directories.toggleSideNav()">
        <div class="nav-icon">
          <a href="#/favorites" class="waves-effect waves-teal nav-link" style="padding-left: 0px">
            <i class="material-icons">star_rate</i>
          </a>
        </div>
      </li>
      
      <li class="row" ng-click="directories.toggleSideNav()">
        <div class="nav-icon">
            <i id="add-folder-icon" class="material-icons center">library_add</i>
        </div>
      </li>

      <li class="folder row" ng-click="directories.toggleSideNav()">
        <div class="nav-icon">
          <a class="waves-effect waves-teal nav-link" style="padding-left: 0px" >
            <i class="material-icons">library_books</i>
          </a>
        </div>
      </li>

  </ul>
  <script>
    $('#slide-out').sideNav({
      closeOnClick: true // Closes side-nav on <a> clicks, useful for Angular/Meteor
    });
  </script>
</header>
<main>
  <div class="container">
    <div class="row">
      <div class="col s12 m12 l12" ui-view>
      </div>
      <script>
      $('#search-bar').keyup(function(event) {
        if (event.target.value == '') {
          $('.search-results').slideUp();
        } else {
          $('.search-results').slideDown();
        }
      });
      </script>
      <style>
      .search-results {
        diplay: none;
      }
      </style>
    </div>
  </div>
</main>
